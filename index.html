<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>P2Pforyou — Sell USDT</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#060914; --bg2:#071427; --panel:#0e1620; --muted:#98a3b3;
  --accent:#00ff88; --accent2:#00cc66;
  --radius:14px; --shadow:0 10px 40px rgba(2,8,23,0.6);
  font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:#fff; font-family:Inter;
  min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px;
}
.card{
  background:var(--panel);
  padding:20px; border-radius:var(--radius);
  box-shadow:var(--shadow); width:100%; max-width:480px;
}
h1{font-size:20px;margin-bottom:14px;text-align:center}
.swap-box{
  background:rgba(255,255,255,0.02);
  border-radius:var(--radius); padding:14px; display:flex; flex-direction:column; gap:10px;
}
.swap-field{
  background:rgba(255,255,255,0.03);
  padding:12px; border-radius:var(--radius);
}
.swap-label{font-size:13px;color:var(--muted);margin-bottom:4px}
.swap-input-row{display:flex;align-items:center;gap:8px}
.swap-input-row select, .swap-input-row input{
  flex:1;padding:10px;border-radius:var(--radius);border:none;
  background:rgba(255,255,255,0.06);color:#fff;font-size:14px
}
.rate-info{text-align:center;font-size:13px;color:var(--muted);margin:8px 0}
.payment-section{margin-top:16px}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:4px}
select,input,textarea{
  width:100%;padding:10px;border-radius:var(--radius);
  border:none;background:rgba(255,255,255,0.06);color:#fff;
  font-size:14px;margin-bottom:10px
}
.address-box{display:flex;gap:8px;margin-bottom:10px}
.address-box input{flex:1;font-family:monospace}
.copy-btn{padding:10px 12px;border-radius:var(--radius);
  border:none;background:rgba(255,255,255,0.1);cursor:pointer;color:#fff
}
.actions{display:flex;gap:10px;margin-top:12px}
.btn{flex:1;padding:12px;border-radius:var(--radius);
  border:none;cursor:pointer;font-weight:600}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#001}
.btn.secondary{background:rgba(255,255,255,0.1);color:#fff}
</style>
</head>
<body>
<div class="card">
  <h1>Sell USDT</h1>
  
  <!-- Swap Box -->
  <div class="swap-box">
    <div class="swap-field">
      <div class="swap-label">You Send</div>
      <div class="swap-input-row">
        <select id="network" name="network">
          <option value="BEP20">USDT BEP20</option>
          <option value="Polygon">USDT Polygon</option>
          <option value="TRC20">USDT TRC20</option>
        </select>
        <input type="number" id="usdt" step="0.01" min="1.2" max="500" placeholder="0.00" />
      </div>
    </div>
    <div class="swap-field">
      <div class="swap-label">You Receive (INR)</div>
      <input type="text" id="inrDisplay" readonly placeholder="—" />
    </div>
  </div>
  <div class="rate-info">Rate: <span id="rateDisplay">—</span></div>

  <!-- Payment Section -->
  <div class="payment-section">
    <label>Payment Receiving Mode</label>
    <select id="payment_mode">
      <option value="">-- Select Payment Mode --</option>
      <option value="UPI">UPI</option>
      <option value="CDM">CDM</option>
      <option value="Bank">Bank Transfer</option>
    </select>

    <div id="modeFields"></div>

    <label>Send USDT to</label>
    <div class="address-box">
      <input id="usdt_address" readonly />
      <button type="button" class="copy-btn" id="copyAddressBtn">Copy</button>
    </div>
  </div>

  <!-- Actions -->
  <div class="actions">
    <button class="btn secondary" id="previewBtn">Preview</button>
    <button class="btn primary" id="submitBtn">Submit</button>
  </div>
</div>

<script>
const networkEl = document.getElementById('network');
const usdtEl = document.getElementById('usdt');
const rateEl = document.getElementById('rateDisplay');
const inrEl = document.getElementById('inrDisplay');
const addressEl = document.getElementById('usdt_address');
const paymentModeEl = document.getElementById('payment_mode');
const modeFields = document.getElementById('modeFields');
const copyBtn = document.getElementById('copyAddressBtn');
const submitBtn = document.getElementById('submitBtn');
const previewBtn = document.getElementById('previewBtn');

const addresses = {
  BEP20: '0x1A63d865D881E15D4103a5c031a67C0d63e9849C',
  Polygon: '0x1A63d865D881E15D4103a5c031a67C0d63e9849C',
  TRC20: 'TUYMmZN5oTfyjDZ8zqbqsfepdbvBgoBDz3'
};

function getRate(amount){
  if(amount >= 1.2 && amount <= 10) return 83.5;
  if(amount > 10 && amount <= 30.99) return 84;
  if(amount > 30.99 && amount <= 100.99) return 85.2;
  if(amount > 100.99 && amount <= 380.9) return 86;
  if(amount > 380.9 && amount <= 500) return 86.6;
  return 0;
}

function updateAddress(){
  addressEl.value = addresses[networkEl.value] || addresses.BEP20;
}

function renderModeFields(){
  const mode = paymentModeEl.value;
  modeFields.innerHTML = '';
  if(mode === 'UPI'){
    modeFields.innerHTML = `
      <label>UPI ID</label>
      <input placeholder="yourupi@bank" />
    `;
  } else if(mode === 'CDM'){
    modeFields.innerHTML = `
      <label>Account Number</label><input />
      <label>Bank Name</label><input />
    `;
  } else if(mode === 'Bank'){
    modeFields.innerHTML = `
      <label>Account Number</label><input />
      <label>IFSC</label><input />
    `;
  }
}

networkEl.addEventListener('change', updateAddress);
paymentModeEl.addEventListener('change', renderModeFields);

usdtEl.addEventListener('input', ()=>{
  let v = parseFloat(usdtEl.value);
  if(isNaN(v)){ rateEl.textContent = '—'; inrEl.value = ''; return; }
  if(v > 500){ v = 500; usdtEl.value = 500; }
  const rate = getRate(v);
  rateEl.textContent = rate ? '₹' + rate.toFixed(2) : '—';
  inrEl.value = rate ? (v * rate).toFixed(2) : '';
});

copyBtn.addEventListener('click', async ()=>{
  await navigator.clipboard.writeText(addressEl.value);
  copyBtn.textContent = 'Copied';
  setTimeout(()=>copyBtn.textContent = 'Copy', 1000);
});

previewBtn.addEventListener('click', ()=>{
  alert(`Preview:\n${usdtEl.value} USDT → ₹${inrEl.value}\nNetwork: ${networkEl.value}`);
});

submitBtn.addEventListener('click', ()=>{
  alert('Submitting order...');
});

document.addEventListener('DOMContentLoaded', ()=>{
  updateAddress();
});
</script>
</body>
</html>
